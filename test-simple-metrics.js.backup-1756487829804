const axios = require('axios');

async function testSimpleMetrics() {
    try {
        console.log('üîç Verificando m√©tricas cu√°nticas...\n');
        
        const response = await axios.get('http://localhost:4602/api/quantum-analysis');
        
        if (response.data.success) {
            const quantumMetrics = response.data.quantumMetrics;
            const symbols = Object.keys(quantumMetrics);
            
            console.log(`üìä Total s√≠mbolos: ${symbols.length}`);
            
            // Verificar primeros 10 s√≠mbolos
            let naCount = 0;
            let placeholderCount = 0;
            let validCount = 0;
            
            symbols.slice(0, 10).forEach(symbol => {
                const metrics = quantumMetrics[symbol];
                const spin = metrics.spinState?.spin_j;
                const area = metrics.quantumArea;
                const volume = metrics.quantumVolume;
                
                console.log(`\n${symbol}:`);
                console.log(`  Spin: ${spin} ${spin === 'N/A' || spin === null ? '‚ùå' : '‚úÖ'}`);
                console.log(`  √Årea: ${area} ${area <= 0.1 ? '‚ö†Ô∏è' : '‚úÖ'}`);
                console.log(`  Volumen: ${volume} ${volume < 1000 ? '‚ö†Ô∏è' : '‚úÖ'}`);
                
                if (spin === 'N/A' || spin === null || spin === undefined) naCount++;
                if (area <= 0.1) placeholderCount++;
                if (spin && spin !== 'N/A' && area > 0.1 && volume > 1000) validCount++;
            });
            
            console.log(`\nüìà RESUMEN (primeros 10):`);
            console.log(`  ‚úÖ V√°lidos: ${validCount}`);
            console.log(`  ‚ùå N/A: ${naCount}`);
            console.log(`  ‚ö†Ô∏è  Placeholders: ${placeholderCount}`);
            
            if (naCount === 0 && placeholderCount === 0) {
                console.log('\nüéâ ¬°CORRECCI√ìN EXITOSA!');
            } else {
                console.log('\n‚ö†Ô∏è  A√∫n hay problemas que resolver');
            }
            
        } else {
            console.log('‚ùå Error en la respuesta');
        }
        
    } catch (error) {
        console.error('‚ùå Error:', error.message);
    }
}

testSimpleMetrics();
