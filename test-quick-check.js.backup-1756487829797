const axios = require('axios');

async function quickCheck() {
    try {
        console.log('üîç Verificaci√≥n r√°pida de m√©tricas...\n');
        
        const response = await axios.get('http://localhost:4602/api/quantum-analysis');
        
        if (response.data.success) {
            const quantumMetrics = response.data.quantumMetrics;
            const symbols = Object.keys(quantumMetrics);
            
            console.log(`üìä Total s√≠mbolos: ${symbols.length}`);
            
            // Verificar solo los primeros 5 s√≠mbolos
            const testSymbols = symbols.slice(0, 5);
            
            testSymbols.forEach(symbol => {
                const metrics = quantumMetrics[symbol];
                const spin = metrics.spinState?.spin_j;
                const area = metrics.quantumArea;
                const volume = metrics.quantumVolume;
                
                console.log(`\n${symbol}:`);
                console.log(`  Spin: ${spin} ${spin === 'N/A' || spin === null ? '‚ùå' : '‚úÖ'}`);
                console.log(`  √Årea: ${area} ${area <= 0.1 ? '‚ö†Ô∏è' : '‚úÖ'}`);
                console.log(`  Volumen: ${volume} ${volume < 1000 ? '‚ö†Ô∏è' : '‚úÖ'}`);
            });
            
            // Contar problemas
            let naCount = 0;
            let placeholderCount = 0;
            
            symbols.forEach(symbol => {
                const metrics = quantumMetrics[symbol];
                const spin = metrics.spinState?.spin_j;
                const area = metrics.quantumArea;
                
                if (spin === 'N/A' || spin === null || spin === undefined) naCount++;
                if (area <= 0.1) placeholderCount++;
            });
            
            console.log(`\nüìà RESUMEN TOTAL:`);
            console.log(`  ‚ùå N/A values: ${naCount}/${symbols.length}`);
            console.log(`  ‚ö†Ô∏è  Placeholder values: ${placeholderCount}/${symbols.length}`);
            
            if (naCount === 0 && placeholderCount === 0) {
                console.log('\nüéâ ¬°CORRECCI√ìN EXITOSA! No hay valores N/A ni placeholders');
            } else {
                console.log('\n‚ö†Ô∏è  A√∫n hay problemas que resolver');
            }
            
        } else {
            console.log('‚ùå Error en la respuesta del servidor');
        }
        
    } catch (error) {
        console.error('‚ùå Error de conexi√≥n:', error.message);
    }
}

quickCheck();
